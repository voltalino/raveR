% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/buffer.R
\name{render_buffer}
\alias{render_buffer}
\title{Render a Pre-Rendered Audio Buffer}
\usage{
render_buffer(duration_sec, content_fn, sample_rate = SAMPLE_RATE)
}
\arguments{
\item{duration_sec}{Target duration in seconds for the buffer}

\item{content_fn}{A function that returns a Wave object to fill the buffer.
The function should generate audio matching the specified duration.}

\item{sample_rate}{Sample rate in Hz (default: 44100)}
}
\value{
A complete pre-rendered tuneR Wave object
}
\description{
Creates a complete audio buffer by evaluating a content function.
This is the core of the GC-pause workaround: by generating audio
upfront before playback, garbage collection pauses happen during
rendering rather than during audio output.
}
\details{
The render_buffer function is designed for the pre-rendered buffer
architecture that works around R's garbage collection limitations.
R's stop-the-world GC can pause execution for 50-100ms or more,
which would cause clicks and dropouts in real-time audio.

By rendering complete buffers (typically 4-8 seconds, or 1-4 bars
at 120 BPM) before playback begins, we ensure smooth audio output.
The content_fn is called once to generate the buffer content.
}
\examples{
\dontrun{
# Pre-render a 4-second buffer with a 440 Hz sine wave
buffer <- render_buffer(4, function() raver_sine(440, 4))

# Pre-render with multiple sounds
buffer <- render_buffer(2, function() {
  sine <- raver_sine(440, 1)
  square <- raver_square(220, 1)
  bind_waves(sine, square)
})
}
}
